from app.main import app
from fastapi.testclient import TestClient
from app.v2.settings import BaseSettings


def test_update():
    request_data = {"path": "TEST",
                    "object_name": "test",
                    "object_type": "jpg",
                    "base64_data": "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"}

    with TestClient(app) as client:
        response = client.post("/v2/", json=request_data)

    assert response.status_code == 200
    assert response.json()["status"] == "ok"
    assert response.json()["result"] == {"url": f"https://{BaseSettings.bucket}.{BaseSettings.region_name}.digitaloceanspaces.com/TEST/test.jpg"}


def test_delete():
    request_data = {
        "url": f"https://{BaseSettings.bucket}.{BaseSettings.region_name}.digitaloceanspaces.com/TEST/test.jpg"
    }
    with TestClient(app) as client:
        response = client.delete("/v2/", json=request_data)

    assert response.status_code == 200
    assert response.json()["status"] == "ok"
    assert response.json()["result"] == f"TEST/test.jpg has been deleted"
